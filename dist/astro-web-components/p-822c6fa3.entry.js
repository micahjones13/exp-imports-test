import{r as t,h as e,H as s}from"./p-3aed6e85.js";import{f as i,u as a}from"./p-b4fa3314.js";import{r as l,t as o}from"./p-507fde2f.js";import{d as n}from"./p-304ba5ef.js";function r(t){l(1,arguments);var e=o(t),s=new Date(0);return s.setFullYear(e.getFullYear(),0,1),s.setHours(0,0,0,0),s}function c(t){l(1,arguments);var e=o(t),s=n(e,r(e)),i=s+1;return i}const h={A:"+01:00",B:"+02:00",C:"+03:00",D:"+04:00",E:"+05:00",F:"+06:00",G:"+07:00",H:"+08:00",I:"+09:00",K:"+10:00",L:"+11:00",M:"+12:00",N:"-01:00",O:"-02:00",P:"-03:00",Q:"-04:00",R:"-05:00",S:"-06:00",T:"-07:00",U:"-08:00",V:"-09:00",W:"-10:00",X:"-11:00",Y:"-12:00",Z:"+00:00"},d=class{constructor(e){t(this,e),this._timezone="UTC",this.tzFormat="z",this.hasRun=!1,this.static=!1,this.timezone="UTC",this.hideTimezone=!1,this.hideDate=!1,this.hideLabels=!1,this.small=!1}updateAos(t){this.convertedAos=this._formatLosAosDateIn(t)}updateLos(t){this.convertedLos=this._formatLosAosDateIn(t)}handleDateInChange(){clearTimeout(this._timer),this._rawTime=new Date(this.dateIn),this._handleDateIn(),this._updateTime()}timezoneChanged(){this._convertTimezone(this.timezone),this.aos&&(this.convertedAos=this._formatLosAosDateIn(this.aos)),this.los&&(this.convertedLos=this._formatLosAosDateIn(this.los)),this._updateTime()}get time(){return this._time}connectedCallback(){this._convertTimezone(this.timezone),this.dateIn?this._handleDateIn():this.static||(this._timer=window.setInterval((()=>{this._updateTime()}),1e3)),this.aos&&(this.convertedAos=this._formatLosAosDateIn(this.aos)),this.los&&(this.convertedLos=this._formatLosAosDateIn(this.los))}disconnectedCallback(){clearTimeout(this._timer)}componentWillLoad(){this._timezone=this.timezone,this._convertTimezone(this.timezone),this._updateTime()}_formatTime(t,e){return i(a(t,e),`HH:mm:ss ${this.hideTimezone?"":this.tzFormat}`,{timeZone:e})}_handleDateIn(){this._formatLosAosDateIn(this.dateIn),this._time=this.dateIn,this._rawTime||(this._rawTime=new Date(this.dateIn)),this._validateDateIn(this._rawTime)?this.static||(this._timer=window.setInterval((()=>{this._updateTime()}),1e3)):console.warn(`The date-in value of ${this.dateIn} is not a valid date.`)}_validateDateIn(t){return t.getTime()==t.getTime()}_updateTime(){if(this.dateIn)if(this.hasRun){let t=this._rawTime.getSeconds()+1;this._rawTime.setSeconds(t),this._time=this._formatTime(this._rawTime,this._timezone);const e=a(this._rawTime,this._timezone);this.dayOfYear=c(e)}else{this._time=this._formatTime(this._rawTime,this._timezone);const t=a(this._rawTime,this._timezone);this.dayOfYear=c(t),this.hasRun=!0}else{this._time=this._formatTime(new Date(Date.now()),this._timezone);const t=new Date(Date.now()),e=a(t,this._timezone);this.dayOfYear=c(e)}}_formatLosAosDateIn(t){if(new Date(Number(t)).getTime()>0&&(t=Number(t),this.dateIn&&parseInt(this.dateIn)===t)){let e=new Date(t);this._rawTime=e}return i(a(t,this._timezone),"HH:mm:ss")}_convertTimezone(t){this._timezone=h[t.toUpperCase()],this.tzFormat="O",this._timezone?"Z"==t.toUpperCase()&&(this.tzFormat="X"):(this._timezone=t,this.tzFormat="zzz")}render(){return e(s,null,e("div",{class:"rux-clock",part:"container"},!this.hideDate&&e("div",{class:"rux-clock__segment"},e("div",{class:"rux-clock__segment__value","aria-labelledby":"rux-clock__day-of-year-label",part:"date"},this.dayOfYear.toString().padStart(3,"0")),!this.hideLabels&&e("div",{class:"rux-clock__segment__label",id:"rux-clock__day-of-year-label",part:"date-label"},"Date")),e("div",{class:"rux-clock__segment"},e("div",{class:"rux-clock__segment__value","aria-labelledby":"rux-clock__time-label",part:"time"},this.time),!this.hideLabels&&e("div",{class:"rux-clock__segment__label",id:"rux-clock__time-label",part:"time-label"},"Time")),this.aos&&e("div",{class:"rux-clock__segment rux-clock__aos"},e("div",{class:"rux-clock__segment__value","aria-labelledby":"rux-clock__time-label--aos",id:"rux-clock__time--aos",part:"aos"},this.convertedAos),!this.hideLabels&&e("div",{class:"rux-clock__segment__label",id:"rux-clock__time-label--aos",part:"aos-label"},"AOS")),this.los&&e("div",{class:"rux-clock__segment rux-clock__los"},e("div",{class:"rux-clock__segment__value","aria-labelledby":"rux-clock__time-label--los",id:"rux-clock__time--los",part:"los"},this.convertedLos),!this.hideLabels&&e("div",{class:"rux-clock__segment__label",id:"rux-clock__time-label--los",part:"los-label"},"LOS"))))}static get watchers(){return{aos:["updateAos"],los:["updateLos"],dateIn:["handleDateInChange"],timezone:["timezoneChanged"]}}};d.style=":host{display:flex;margin:var(--spacing-0);color:var(--color-palette-neutral-000);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host([hidden]){display:none}:host(:not([hide-labels])){height:calc(var(--spacing-8) * 2)}.rux-clock{display:flex;user-select:none;color:var(--clock-text-color)}.rux-clock__segment{display:flex;flex-direction:column;align-items:center}.rux-clock__segment__value{display:flex;align-items:center;color:var(--gsb-color-text);font-family:var(--font-monospace-1-font-family);font-weight:var(--font-monospace-1-font-weight);font-size:var(--font-monospace-1-font-size);letter-spacing:var(--font-monospace-1-letter-spacing);box-shadow:var(--gsb-color-background) 0 0 0 1px inset;background-color:var(--clock-datetime-color-background);white-space:nowrap;overflow-y:hidden;text-overflow:ellipsis;height:var(--spacing-10);padding:var(--spacing-0) var(--spacing-3)}:host([small]) .rux-clock__segment__value{height:var(--spacing-10);padding:var(--spacing-1) var(--spacing-3);font-size:1.15rem;font-weight:var(--font-weight-medium)}.rux-clock__segment__label{font-family:var(--font-body-2-font-family);font-size:var(--font-body-2-font-size);font-weight:var(--font-body-2-font-weight);letter-spacing:var(--font-body-2-letter-spacing);color:var(--color-palette-neutral-000);background:var(--gsb-color-background);padding:var(--spacing-0) var(--spacing-3) var(--spacing-0) var(--spacing-3);line-height:var(--font-body-3-line-height);width:-moz-available;width:-webkit-fill-available;width:fill-available;height:var(--spacing-6);display:flex;align-items:flex-end;justify-content:center;text-align:center}.rux-clock__aos{margin-left:var(--spacing-4)}";export{d as rux_clock}