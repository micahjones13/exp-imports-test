import{r as t,c as o,h as a,F as e,H as r,g as i}from"./p-3aed6e85.js";import{h as n}from"./p-12583e0d.js";const l=class{constructor(a){t(this,a),this.ruxDialogOpened=o(this,"ruxdialogopened",7),this.ruxDialogClosed=o(this,"ruxdialogclosed",7),this.open=!1,this.confirmText="Confirm",this.denyText="Cancel",this.clickToClose=!1,this.hasFooter=n(this.element,"footer"),this.hasHeader=n(this.element,"header"),this.hasMessage=n(this.element),this._userInput=null}handleKeyDown(t){var o;if(this.open&&!this.hasFooter){const a=this.element.shadowRoot.querySelectorAll("rux-button");if("Enter"===t.key){let t=null===(o=this.element.shadowRoot)||void 0===o?void 0:o.activeElement;if(t&&t===a[0])this._userInput=!1,a[0].click();else{const t=this._getDefaultButton();t&&(this._userInput=!0,t.click())}}"Escape"===t.key&&(this._userInput=!1,a[0].click())}}handleClick(t){if(this.clickToClose){const o=this._getWrapper();t.composedPath()[0]===o&&(this.open=!1)}}handleOpen(t){t&&!this.hasFooter&&setTimeout((()=>{const t=this._getDefaultButton();t&&t.focus()}),0),this.open?setTimeout((()=>{this.ruxDialogOpened.emit()}),20):this.ruxDialogClosed.emit(this._userInput),this._userInput=null}_handleDialogChoice(t){this._userInput="true"===t.currentTarget.dataset.value,this.open=!1}_getDefaultButton(){var t,o,a;const e=null===(o=null===(t=this.element)||void 0===t?void 0:t.shadowRoot)||void 0===o?void 0:o.querySelectorAll("rux-button:not([hidden])");if(e.length>0){const t=null===(a=e[e.length-1].shadowRoot)||void 0===a?void 0:a.querySelector("button");if(t)return t}return null}_getWrapper(){var t,o;return(null===(o=null===(t=this.element)||void 0===t?void 0:t.shadowRoot)||void 0===o?void 0:o.querySelector(".rux-dialog__wrapper"))||null}connectedCallback(){this._handleDialogChoice=this._handleDialogChoice.bind(this),this._handleSlotChange=this._handleSlotChange.bind(this),this.hasMessage=n(this.element)}componentDidRender(){const t=this._getDefaultButton();t&&t.focus()}_handleSlotChange(){this.hasHeader=n(this.element,"header"),this.hasMessage=n(this.element),this.hasFooter=n(this.element,"footer")}render(){const{open:t,message:o,header:i,confirmText:n,denyText:l,_handleDialogChoice:s}=this;return t&&a(r,null,a("div",{part:"container",class:"rux-dialog__wrapper"},a("dialog",{class:"rux-dialog__dialog",role:"dialog",part:"dialog"},a("header",{class:{hidden:!this.hasHeader&&void 0===i,"rux-dialog__header":!0},part:"header"},a("slot",{name:"header",onSlotchange:this._handleSlotChange},i)),a("div",{class:"rux-dialog__content"},a("div",{class:{hidden:!this.hasMessage&&void 0===o,"rux-dialog__message":!0},part:"message"},a("slot",{onSlotchange:this._handleSlotChange}),!this.hasMessage&&o?a("div",null,o):null)),a("footer",{class:{"rux-dialog__footer":!0},part:"footer"},this.hasFooter?a("slot",{name:"footer",onSlotchange:this._handleSlotChange}):a(e,null,a("rux-button-group",{"h-align":"right"},a("rux-button",{secondary:n.length>0,onClick:s,"data-value":"false",hidden:!l,tabindex:"0",exportparts:"container:deny-button",id:"rux-dialog-deny-button"},l),a("rux-button",{onClick:s,hidden:!n,"data-value":"true",tabindex:"1",exportparts:"container:confirm-button"},n)),a("slot",{name:"footer",onSlotchange:this._handleSlotChange}))))))}static get delegatesFocus(){return!0}get element(){return i(this)}static get watchers(){return{open:["handleOpen"]}}};l.style=":host{display:contents}*,*::before,*::after{box-sizing:inherit}:host([hidden]){display:none}rux-button-group{margin-top:auto;margin-left:auto;align-self:flex-end}.rux-dialog__wrapper{position:fixed;top:var(--spacing-0);left:var(--spacing-0);height:100vh;width:100vw;display:flex;justify-content:center;align-items:center;z-index:1100;background-color:rgba(0, 0, 0, 0.5);animation:fadeIn 0.5s;-webkit-animation:fadeIn 0.5s;-moz-animation:fadeIn 0.5s;-o-animation:fadeIn 0.5s;-ms-animation:fadeIn 0.5s}.rux-dialog__dialog{position:relative;display:flex;flex-direction:column;justify-content:space-between;background-color:var(--color-background-surface-default);width:28rem;border:var(--spacing-0);margin:auto;padding:var(--spacing-0);user-select:none;box-shadow:var(--shadow-outer-dialog);max-height:100%}.rux-dialog__header{box-sizing:border-box;display:flex;flex-grow:var(--spacing-0);flex-shrink:var(--spacing-0);align-items:center;width:100%;padding:var(--spacing-4);background-color:var(--color-background-surface-header);color:var(--color-text-primary);user-select:none;font-family:var(--font-heading-2-font-family);font-size:var(--font-heading-2-font-size);line-height:var(--font-heading-2-line-height);font-weight:var(--font-heading-2-font-weight);letter-spacing:var(--font-heading-2-letter-spacing)}.rux-dialog__header ::slotted(h6),.rux-dialog__header ::slotted(h5),.rux-dialog__header ::slotted(h4),.rux-dialog__header ::slotted(h3),.rux-dialog__header ::slotted(h2),.rux-dialog__header ::slotted(h1){margin-block-start:var(--spacing-0);margin-block-end:var(--spacing-0)}.rux-dialog__content{display:flex;flex-direction:column;flex-grow:1;color:var(--color-text-primary);overflow:auto;scrollbar-color:var(--color-border-interactive-muted, #2b659b) var(--color-background-surface-default, #1b2d3e);}.rux-dialog__content::-webkit-scrollbar{width:var(--spacing-4);height:var(--spacing-4);background-color:transparent}.rux-dialog__content::-webkit-scrollbar-thumb{background-color:var(--color-border-interactive-muted, #2b659b);border-radius:8px;border:3px solid transparent;background-clip:padding-box}.rux-dialog__content::-webkit-scrollbar-thumb:vertical{border-left-width:var(--border-width-lg)}.rux-dialog__content::-webkit-scrollbar-thumb:horizontal{border-top-width:var(--border-width-lg)}.rux-dialog__content::-webkit-scrollbar-thumb:active,.rux-dialog__content::-webkit-scrollbar-thumb:hover{background-color:var(--color-background-interactive-default, #3a81bf)}.rux-dialog__content::-webkit-scrollbar-track,.rux-dialog__content::-webkit-scrollbar-corner{background-color:var(--color-background-surface-default);box-shadow:var(--scrollbar-shadow-inner-vertical)}.rux-dialog__content::-webkit-scrollbar-track:vertical{box-shadow:var(--scrollbar-shadow-inner-vertical)}.rux-dialog__content::-webkit-scrollbar-track:horizontal{box-shadow:var(--scrollbar-shadow-inner-vertical)}.rux-dialog__footer{display:flex;flex-direction:column;flex-grow:1;padding:var(--spacing-4);color:var(--color-text-primary)}.rux-dialog__message{padding:var(--spacing-4) var(--spacing-4) var(--spacing-1) var(--spacing-4);font-size:var(--font-body-1-font-size);line-height:var(--font-body-1-line-height);text-align:left}.rux-dialog .rux-button{box-shadow:none !important}.rux-dialog__header.hidden{display:none}.rux-dialog__message.hidden{display:none}rux-icon{margin-right:var(--spacing-3)}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-moz-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-ms-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}";export{l as rux_dialog}